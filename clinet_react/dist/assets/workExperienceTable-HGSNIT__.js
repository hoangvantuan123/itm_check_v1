import{r as g,j as e,b as Y,B as o,h as d,D as P,F as n,R as h,c as t,I as r,d as m}from"./index-4G1fVbT5.js";const E=({isMobile:C,setWorkExperiences:u,workExperiences:x,setProjects:v,projects:c,initialWorkExperience:D,initialProject:z})=>{const[w,j]=g.useState(!1),[s,l]=g.useState(null),[T,y]=g.useState(!1),[p,b]=g.useState(!1),A=()=>{l(D),y(!1),b(!1),j(!0)},M=()=>{l(z),y(!1),b(!0),j(!0)},S=a=>{const i=x.filter(k=>k.key!==a);u(i)},F=a=>{const i=c.filter(k=>k.key!==a);v(i)},N=(a,i=!1)=>{l(a),y(!0),b(i),j(!0)},f=()=>{j(!1),l(null)},L=()=>{if(T){if(s)if(p){const a=c.map(i=>i.key===s.key?s:i);v(a)}else{const a=x.map(i=>i.key===s.key?s:i);u(a)}}else{const a={...s,key:Date.now()};p?v([...c,a]):u([...x,a])}f()};return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-base font-semibold mb-4",children:"Kinh nghiệm làm việc"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px"},children:x.map(a=>e.jsxs(Y,{size:"small",title:a.companyName||"Công ty chưa có tên",style:{width:"100%"},onClick:()=>N(a),extra:[e.jsx(o,{type:"link",onClick:()=>S(a.key),children:"Xóa"})],children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Chức vụ:"})," ",a.position||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Năm vào:"})," ",a.joinYear?d(a.joinYear).format("YYYY"):"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Năm thôi việc:"})," ",a.leaveYear?d(a.leaveYear).format("YYYY"):"N/A"]})]},a.key))}),e.jsx(o,{type:"dashed",onClick:A,className:"mt-5 mb-5",children:"Thêm công ty"}),e.jsx("h3",{className:"text-base font-semibold mb-4",children:"Dự án"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px"},children:c.map(a=>e.jsxs(Y,{size:"small",onClick:()=>N(a,!0),title:a.projectName||"Dự án chưa có tên",style:{width:"100%"},extra:[e.jsx(o,{type:"link",onClick:()=>F(a.key),children:"Xóa"})],children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ngày bắt đầu:"})," ",a.startDate?d(a.startDate).format("YYYY-MM-DD"):"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ngày kết thúc:"})," ",a.endDate?d(a.endDate).format("YYYY-MM-DD"):"N/A"]})]},a.key))}),e.jsx(o,{type:"dashed",onClick:M,className:"mt-5 mb-5",children:"Thêm dự án"}),e.jsx(P,{title:null,height:750,onClose:f,visible:w,placement:"bottom",closable:!1,footer:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(o,{onClick:f,size:"large",children:"Thoát"},"cancel"),e.jsx(o,{type:"primary",size:"large",className:"ml-2 border-gray-200 bg-indigo-600 text-white shadow-sm text-sm",onClick:L,children:"Lưu"},"submit")]}),children:e.jsx(n,{layout:"vertical",children:p?e.jsxs(e.Fragment,{children:[e.jsx(h,{gutter:16,children:e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Tên dự án",children:e.jsx(r,{size:"large",placeholder:"Tên dự án",value:s==null?void 0:s.projectName,onChange:a=>l({...s,projectName:a.target.value})})})})}),e.jsxs(h,{gutter:16,children:[e.jsx(t,{xs:12,sm:12,children:e.jsx(n.Item,{label:"Ngày bắt đầu",children:e.jsx(m,{size:"large",className:"w-full",placeholder:"Ngày bắt đầu",value:s!=null&&s.startDate?d(s.startDate):null,onChange:a=>l({...s,startDate:a})})})}),e.jsx(t,{xs:12,sm:12,children:e.jsx(n.Item,{label:"Ngày kết thúc",children:e.jsx(m,{size:"large",className:"w-full",placeholder:"Ngày kết thúc",value:s!=null&&s.endDate?d(s.endDate):null,onChange:a=>l({...s,endDate:a})})})}),e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Công việc phụ trách",children:e.jsx(r,{size:"large",placeholder:"Công việc phụ trách",value:s==null?void 0:s.task,onChange:a=>l({...s,task:a.target.value})})})})]}),e.jsxs(h,{gutter:16,children:[e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Số năm",children:e.jsx(r,{size:"large",placeholder:"Số năm",value:s==null?void 0:s.duration,onChange:a=>l({...s,duration:a.target.value})})})}),e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Khái quát dự án",children:e.jsx(r.TextArea,{size:"large",placeholder:"Khái quát dự án",value:s==null?void 0:s.summary,onChange:a=>l({...s,summary:a.target.value})})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(h,{gutter:16,children:[e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Tên công ty",children:e.jsx(r,{size:"large",value:s==null?void 0:s.companyName,onChange:a=>l({...s,companyName:a.target.value})})})}),e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Chức vụ",children:e.jsx(r,{size:"large",value:s==null?void 0:s.position,onChange:a=>l({...s,position:a.target.value})})})})]}),e.jsx(h,{gutter:16,children:e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Quy mô LĐ",children:e.jsx(r,{size:"large",value:s==null?void 0:s.employeeScale,onChange:a=>l({...s,employeeScale:a.target.value})})})})}),e.jsxs(h,{gutter:16,children:[e.jsx(t,{xs:12,sm:12,children:e.jsx(n.Item,{label:"Năm vào công ty",children:e.jsx(m,{size:"large",className:"w-full",picker:"year",value:s!=null&&s.joinYear?d(s.joinYear):null,onChange:a=>l({...s,joinYear:a})})})}),e.jsx(t,{xs:12,sm:12,children:e.jsx(n.Item,{label:"Năm thôi việc",children:e.jsx(m,{size:"large",picker:"year",className:"w-full",value:s!=null&&s.leaveYear?d(s.leaveYear):null,onChange:a=>l({...s,leaveYear:a})})})})]}),e.jsx(h,{gutter:16,children:e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Công việc phụ trách",children:e.jsx(r.TextArea,{size:"large",value:s==null?void 0:s.tasks,onChange:a=>l({...s,tasks:a.target.value})})})})}),e.jsxs(h,{gutter:16,children:[e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Mức lương",children:e.jsx(r,{size:"large",value:s==null?void 0:s.salary,onChange:a=>l({...s,salary:a.target.value})})})}),e.jsx(t,{xs:24,sm:12,children:e.jsx(n.Item,{label:"Lý do xin nghỉ",children:e.jsx(r.TextArea,{size:"large",value:s==null?void 0:s.reasonForLeaving,onChange:a=>l({...s,reasonForLeaving:a.target.value})})})})]})]})})})]})};export{E as default};
